// ============================================
// ANIMATIONS & TRANSITIONS
// ============================================

// --- Keyframes ---

@keyframes iosMessageEnter {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.9);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes md3MessageEnter {
  0% {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes slideUp {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

@keyframes slideDown {
  from { transform: translateY(0); }
  to { transform: translateY(100%); }
}

@keyframes modalScaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes sheetSlideIn {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

@keyframes popIn {
  from { 
    opacity: 0; 
    transform: scale(0.9); 
  }
  to { 
    opacity: 1; 
    transform: scale(1); 
  }
}

@keyframes pulseSoft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes typingBounce {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-4px); }
}

@keyframes slideInFromBottom {
  from { 
    opacity: 0; 
    transform: translateY(8px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes reactionPop {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

@keyframes subtlePulse {
  0%, 100% { 
    opacity: 1; 
    transform: scale(1); 
  }
  50% { 
    opacity: 0.8; 
    transform: scale(0.98); 
  }
}

@keyframes floatIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// --- Vue Transitions ---

.message-enter-active {
  animation: var(--animation-message-enter);
  z-index: 1; 
}

.message-leave-active {
  animation: fadeOut 0.3s ease-out;
  position: absolute;
  width: 100%;
  z-index: 0;
}

.message-move {
  transition: var(--animation-message-move);
}

.slide-up-enter-active {
  animation: slideUp 0.3s cubic-bezier(0.32, 0.72, 0, 1);
}
.slide-up-leave-active {
  animation: slideDown 0.25s cubic-bezier(0.32, 0.72, 0, 1);
}

.fade-enter-active {
  animation: fadeIn 0.2s ease-out;
}
.fade-leave-active {
  animation: fadeOut 0.15s ease-out;
}

.modal-backdrop-enter-active { animation: fadeIn 0.2s ease-out; }
.modal-backdrop-leave-active { animation: fadeOut 0.2s ease-out; }
.modal-content-enter-active { animation: modalScaleIn 0.25s cubic-bezier(0.32, 0.72, 0, 1); }
.modal-content-leave-active { animation: fadeOut 0.2s ease-out; }

.sheet-enter-active { animation: sheetSlideIn 0.35s cubic-bezier(0.32, 0.72, 0, 1); }
.sheet-leave-active { animation: slideDown 0.25s cubic-bezier(0.32, 0.72, 0, 1); }

.file-enter-active {
  animation: slideInFromBottom 0.2s cubic-bezier(0.32, 0.72, 0, 1);
}
.file-leave-active {
  animation: fadeOut 0.15s ease-out;
}

.stagger-item {
  animation: floatIn 0.3s ease-out backwards;
  
  @for $i from 1 through 10 {
    &:nth-child(#{$i}) {
      animation-delay: #{$i * 0.03}s;
    }
  }
}